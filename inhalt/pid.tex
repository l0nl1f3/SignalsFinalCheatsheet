\section{PID}

\subsection*{Linear Feedback}
Forward $H(s)$, Feedback $G(s)$ ($z$ when discrete).

$Q(s) = \frac{Y(s)}{X(s)} = \frac{H(s)}{1+H(s)G(s)}$

Open loop transfer: $\frac{R(s)}{E(s)} = H(s) G(s)$

Error transfer: $\frac{E(s)}{X(s)} = \frac{1}{1 + H(s) G(s)}$

Inverse system: $Q(s) = \frac{1}{\frac{1}{H(s)} + G(s)} \approx \frac{1}{G(s)}$ (when $|H(s)| \gg 1$)

Compensation: (forward $H(j\om)$, backward $K$ ), $Q(s) \approx \frac 1 K$, (approx irrelevant to $H$)

$\text{Gain} \times \text{BW} \equiv \text{Constant}$

\subsection*{PID Control}

\includegraphics[scale=0.25]{inhalt/pid.png}

$H_o(s) \triangleq H_c(s) H_p(s)$

$E(s) = \frac{X(s)}{1+H_o(s)} - \frac{H_p(s)}{1+H_o(s)} I(s) - \frac{H_o(s)}{1 + H_o(s)} D(s)\\ Y(s) = \frac{H_oX(s)}{1+H_o(s)} + \frac{H_p(s)}{1+H_o(s)} I(s) + \frac{H_o(s)}{1 + H_o(s)} D(s)$

Error transfer:$H_e(s) = \frac{1}{1+H_o(s)}$, close loop: $H(s) = \frac{H_o(s)}{1 + H_o(s)}$, $H(s)+H_e(s) = 1$


\subsubsection*{Steady State Error}
Assume the system to be steady system.

$\lim_{s\to 0}\int \frac{\rd f(t)}{\rd t}e^{-st}\rd t = \lim_{s\to 0}sF(s) - f(0)$

$f(+\infty) - f(0) = \lim_{s\to 0} sf(s) - f(0)$

$x(t) = \frac{t^k}{k!} u(t)$, $X(s) = s^{-(k+1)}$

$e_{ss} = \lim_{s\to 0} s E(s) = \lim_{s\to 0} \frac{s^{-k}}{(1 + H_c(s) H_p(s))}$

type-$k$ system: limited non-zero $e_{ss}$ for $k$


$H_p(s) = s^{-m} \hat H_p(s), H_c(s) = s^{-n} \hat H_c(s), 0< |\hat H_p(s)|, |\hat H_c(s)| < \infty $

$e_ss = \frac{1}{s^{n+m} + \hat H_p(s)\hat H_c(s)} s^{k-(n+m)}$, type- $m+n$ system for tracking $x$

Similar analysis for interference suppression $I(s)$, type- $n$

\subsubsection*{$H_c(s) = k_P$}

$x(t) = u(t)$

$H_p(s) = \frac{A}{s+a}, H(s) = \frac{Ak_p}{s+a+Ak_p}, e_{ss}= \frac{a}{a+k_pA}$

$k_P$ increase $\Rightarrow$ faster response, less error

$H_p(s) = \frac{A}{s^2+a_1s+a_2}, H(s) = \frac{Ak_P}{s^2+a_1s+a_2} = \frac{Ak_P}{Ak_P + a_2} \frac{\om^2}{s^2+2\zeta\om s + \om^2}$ , damped oscillation

$e_{ss} = \frac{a_2}{a_2 + k_PA}$
$k_P$ increase $\Rightarrow$ damp decrease, enhance oscillation, less error

\subsubsection*{$H_c(s) =\frac{k_I}{s}$}

$H_p(s) = \frac{A}{s+a}, H(s)=\frac{k_IA}{s^2+as+k_IA}, H_e(s) =\frac{s(s+a)}{s^2+as+k_IA}$, damping factor decrease to zero

$x(t)=u(t)\rightarrow e_{ss} = 0, x(t) = tu(t)\rightarrow e_{ss} = \frac{a}{k_IA}$

\subsubsection*{$H_c(s) = k_Ds$}

$H_p(s)=\frac{A}{s+a}, H(s)=\frac{k_DAs}{(k_DA+1)s+a}, H(s)=\frac{s+a}{(k_DA+1)s+a}$

$x(t)=u(t), y(\infty)=0$ (can't track constant error)

\subsubsection*{$H_c(s) = k_P+k_Ds$}

$H_p(s)=\frac{A}{s+a}, H(s)=\frac{(k_P+k_Ds)A}{(Ak_D+1)s+Ak_P+a}$

$x(t)=u(t), y(\infty)=H(0)=\frac{k_PA}{a+k_PA}, y(0+)=\frac{k_DA}{1+k_DA}$

\subsubsection*{$H_c(s) = k_P+\frac{k_I}{s}$ (lower ss error)}

$x(t)=u(t)\rightarrow e(\infty)=0; x(t) = tu(t)\rightarrow e(\infty) = \frac{a}{K_IA}$

\subsubsection*{PLL}

